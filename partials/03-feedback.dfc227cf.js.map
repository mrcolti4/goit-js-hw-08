{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,YAChCC,YAAaF,SAASC,cAAc,iBACpCE,aAAcH,SAASC,cAAc,kBACrCG,cAAeJ,SAASC,cAAc,kBACtCI,iBAAkBL,SAASC,cAAc,qB,iBDA3C,MAEMK,EAAqBC,EAAAC,QAAgBC,KAF1B,uBAGXC,EAAqBJ,EAEvB,IAAKA,GADL,CAAEK,MAAO,GAAIC,QAAS,IA0B1Bd,EAAKK,aAAaU,iBAChB,SACA,EAAAjB,EAAAkB,WAzB2B,EAACC,OAAEA,MACN,UAApBA,EAAOC,WACTN,EAAQC,MAAQI,EAAOE,MACvBV,EAAAC,QAAgBU,KAVH,sBAUkBR,IAET,aAApBK,EAAOC,WACTN,EAAQE,QAAUG,EAAOE,MACzBV,EAAAC,QAAgBU,KAdH,sBAckBR,G,GAkBF,MAEjCZ,EAAKK,aAAaU,iBAAiB,UAhBhBM,IACjB,MAAMJ,EAASI,EAAEJ,OACjBI,EAAEC,iBACFL,EAAOM,QACPC,QAAQC,IAAIb,EAAQ,IAatBV,SAASa,iBAAiB,oBAVKM,IAC7BrB,EAAKM,cAAca,MAAQP,EAAQC,MACnCb,EAAKO,iBAAiBY,MAAQP,EAAQE,OAAO","sources":["src/js/03-feedback.js","src/js/refs.js"],"sourcesContent":["import { throttle } from 'lodash';\nimport { refs } from './refs';\nimport localStorageApi from './localStorageApi';\nimport { isObjEmpty } from './isObjEmpty';\n\nconst FORM_KEY = 'feedback-form-state';\n\nconst localStorageValues = localStorageApi.load(FORM_KEY);\nconst formObj = isObjEmpty(localStorageValues)\n  ? { email: '', message: '' }\n  : { ...localStorageValues };\n\nconst handleFeedBackInputs = ({ target }) => {\n  if (target.nodeName === 'INPUT') {\n    formObj.email = target.value;\n    localStorageApi.save(FORM_KEY, formObj);\n  }\n  if (target.nodeName === 'TEXTAREA') {\n    formObj.message = target.value;\n    localStorageApi.save(FORM_KEY, formObj);\n  }\n};\n\nconst handleForm = e => {\n  const target = e.target;\n  e.preventDefault();\n  target.reset();\n  console.log(formObj);\n};\n\nconst onDocumentLoadFillForm = e => {\n  refs.feedBackInput.value = formObj.email;\n  refs.feedBackTextArea.value = formObj.message;\n};\n\nrefs.feedBackForm.addEventListener(\n  'input',\n  throttle(handleFeedBackInputs, 500)\n);\nrefs.feedBackForm.addEventListener('submit', handleForm);\ndocument.addEventListener('DOMContentLoaded', onDocumentLoadFillForm);\n","const refs = {\n  gallery: document.querySelector('.gallery'),\n  videoPlayer: document.querySelector('#vimeo-player'),\n  feedBackForm: document.querySelector('.feedback-form'),\n  feedBackInput: document.querySelector('[type=\"email\"]'),\n  feedBackTextArea: document.querySelector('[name=\"message\"]'),\n};\n\nexport { refs };\n"],"names":["$kEUo3","parcelRequire","$ee27a4d7c64fc8c4$export$21666b427502ea6d","gallery","document","querySelector","videoPlayer","feedBackForm","feedBackInput","feedBackTextArea","$945622fd0f572e60$var$localStorageValues","$4ncHU","default","load","$945622fd0f572e60$var$formObj","email","message","addEventListener","throttle","target","nodeName","value","save","e","preventDefault","reset","console","log"],"version":3,"file":"03-feedback.dfc227cf.js.map"}